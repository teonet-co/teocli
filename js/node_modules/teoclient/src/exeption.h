/**
 * File:   exeption.h
 * Author: Alexander Ksenofontov <aksenofo@yahoo.ru>
 *
 * Created on August 3, 2016, 12:32 PM
 */

#pragma once


#include <stddef.h>
#include <sys/types.h>
#include "libteol0/teonet_l0_client.h"
#include <string>

#include <nan.h>


class TeoExeption: public Nan::ObjectWrap {

public:

    TeoExeption(int errn, const std::string& call_name, const std::string& text)
    : errno_(errn)
    , call_name_(call_name)
    , text_(text)
    {}

    static NAN_MODULE_INIT(Init);

    static NAN_GETTER(ErrnoGet);

    static NAN_SETTER(ErrnoSet);

    static NAN_GETTER(CallNameGet);

    static NAN_SETTER(CallNameSet);

    static NAN_GETTER(TextGet);

    static NAN_SETTER(TextSet);

private:

     static NAN_METHOD(New); // constructor


private:

    int errno_;			// rerrno code
    std::string call_name_;  	// operation
    std::string text_;       	// readable text

};

